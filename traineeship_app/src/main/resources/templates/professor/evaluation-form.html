<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Evaluate Traineeship</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        .rating-section {
            margin-bottom: 2rem;
        }
        .rating-label {
            font-weight: 500;
        }
        .form-card {
            max-width: 800px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="container py-4">
        <div class="card shadow-sm form-card">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">
                    <i class="bi bi-clipboard-check"></i> Traineeship Evaluation
                </h3>
            </div>
            
            <div class="card-body">
                <!-- Position Info -->
                <div class="mb-4">
                    <h5>Evaluating Traineeship</h5>
                    <p class="mb-1"><strong>Position:</strong> <span th:text="${position.title}"></span></p>
                    <p class="mb-1"><strong>Student:</strong> <span th:text="${position.student.studentName}"></span></p>
                    <p class="mb-1"><strong>Company:</strong> <span th:text="${position.company.companyName}"></span></p>
                </div>

                <form th:action="@{/professor/positions/{id}/submit-evaluation(id=${position.id})}" method="post">
                    <!-- Student Evaluation Section -->
                    <div class="rating-section card mb-4">
                        <div class="card-header bg-light">
                            <h5 class="mb-0">
                                <i class="bi bi-person"></i> Student Evaluation
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label class="rating-label">Motivation:</label>
                                <div class="btn-group rating-buttons" role="group">
                                    <input type="radio" class="btn-check" name="studentMotivation" id="motivation1" value="1" required>
                                    <label class="btn btn-outline-primary" for="motivation1">1</label>
                                    
                                    <input type="radio" class="btn-check" name="studentMotivation" id="motivation2" value="2">
                                    <label class="btn btn-outline-primary" for="motivation2">2</label>
                                    
                                    <input type="radio" class="btn-check" name="studentMotivation" id="motivation3" value="3">
                                    <label class="btn btn-outline-primary" for="motivation3">3</label>
                                    
                                    <input type="radio" class="btn-check" name="studentMotivation" id="motivation4" value="4">
                                    <label class="btn btn-outline-primary" for="motivation4">4</label>
                                    
                                    <input type="radio" class="btn-check" name="studentMotivation" id="motivation5" value="5">
                                    <label class="btn btn-outline-primary" for="motivation5">5</label>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="rating-label">Effectiveness:</label>
                                <div class="btn-group rating-buttons" role="group">
                                    <input type="radio" class="btn-check" name="studentEffectiveness" id="effectiveness1" value="1" required>
                                    <label class="btn btn-outline-primary" for="effectiveness1">1</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEffectiveness" id="effectiveness2" value="2">
                                    <label class="btn btn-outline-primary" for="effectiveness2">2</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEffectiveness" id="effectiveness3" value="3">
                                    <label class="btn btn-outline-primary" for="effectiveness3">3</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEffectiveness" id="effectiveness4" value="4">
                                    <label class="btn btn-outline-primary" for="effectiveness4">4</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEffectiveness" id="effectiveness5" value="5">
                                    <label class="btn btn-outline-primary" for="effectiveness5">5</label>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="rating-label">Efficiency:</label>
                                <div class="btn-group rating-buttons" role="group">
                                    <input type="radio" class="btn-check" name="studentEfficiency" id="efficiency1" value="1" required>
                                    <label class="btn btn-outline-primary" for="efficiency1">1</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEfficiency" id="efficiency2" value="2">
                                    <label class="btn btn-outline-primary" for="efficiency2">2</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEfficiency" id="efficiency3" value="3">
                                    <label class="btn btn-outline-primary" for="efficiency3">3</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEfficiency" id="efficiency4" value="4">
                                    <label class="btn btn-outline-primary" for="efficiency4">4</label>
                                    
                                    <input type="radio" class="btn-check" name="studentEfficiency" id="efficiency5" value="5">
                                    <label class="btn btn-outline-primary" for="efficiency5">5</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Company Evaluation Section -->
                    <div class="rating-section card mb-4">
                        <div class="card-header bg-light">
                            <h5 class="mb-0">
                                <i class="bi bi-building"></i> Company Evaluation
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label class="rating-label">Facilities Provided:</label>
                                <div class="btn-group rating-buttons" role="group">
                                    <input type="radio" class="btn-check" name="companyFacilities" id="facilities1" value="1" required>
                                    <label class="btn btn-outline-primary" for="facilities1">1</label>
                                    
                                    <input type="radio" class="btn-check" name="companyFacilities" id="facilities2" value="2">
                                    <label class="btn btn-outline-primary" for="facilities2">2</label>
                                    
                                    <input type="radio" class="btn-check" name="companyFacilities" id="facilities3" value="3">
                                    <label class="btn btn-outline-primary" for="facilities3">3</label>
                                    
                                    <input type="radio" class="btn-check" name="companyFacilities" id="facilities4" value="4">
                                    <label class="btn btn-outline-primary" for="facilities4">4</label>
                                    
                                    <input type="radio" class="btn-check" name="companyFacilities" id="facilities5" value="5">
                                    <label class="btn btn-outline-primary" for="facilities5">5</label>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="rating-label">Guidance Quality:</label>
                                <div class="btn-group rating-buttons" role="group">
                                    <input type="radio" class="btn-check" name="companyGuidance" id="guidance1" value="1" required>
                                    <label class="btn btn-outline-primary" for="guidance1">1</label>
                                    
                                    <input type="radio" class="btn-check" name="companyGuidance" id="guidance2" value="2">
                                    <label class="btn btn-outline-primary" for="guidance2">2</label>
                                    
                                    <input type="radio" class="btn-check" name="companyGuidance" id="guidance3" value="3">
                                    <label class="btn btn-outline-primary" for="guidance3">3</label>
                                    
                                    <input type="radio" class="btn-check" name="companyGuidance" id="guidance4" value="4">
                                    <label class="btn btn-outline-primary" for="guidance4">4</label>
                                    
                                    <input type="radio" class="btn-check" name="companyGuidance" id="guidance5" value="5">
                                    <label class="btn btn-outline-primary" for="guidance5">5</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                    <!-- Submission Buttons -->
                    <div class="d-flex justify-content-between">
                        <a th:href="@{/professor/positions/{id}/details(id=${position.id})}" class="btn btn-outline-secondary">
                            <i class="bi bi-arrow-left"></i> Cancel
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-check-circle"></i> Submit Evaluation
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Highlight selected rating buttons
        document.querySelectorAll('.btn-check').forEach(radio => {
            radio.addEventListener('change', function() {
                const label = document.querySelector(`label[for="${this.id}"]`);
                label.classList.remove('btn-outline-primary');
                label.classList.add('btn-primary');
                
                // Reset siblings
                const siblings = document.querySelectorAll(`input[name="${this.name}"]`);
                siblings.forEach(sib => {
                    if (sib !== this) {
                        const sibLabel = document.querySelector(`label[for="${sib.id}"]`);
                        sibLabel.classList.remove('btn-primary');
                        sibLabel.classList.add('btn-outline-primary');
                    }
                });
            });
        });
    </script>
</body>
</html>